// worker设置里面添加变量PSWD(登录密码)
// 基础参数配置
const CONFIG = {
    UUID: '1',  // 管理页面访问路径 /sub-uuid
    APITOKEN: '1',  // 管理节点的API路径密钥
    UP: '1',           // 节点上传密钥
    TOKEN: '1', // 订阅地址密钥
    USER: '1',  // 登录用户名
    DEFAULT_DOMAIN: '', // 默认即可，无需设置
    EXPIRATION_TIME: 1800, // 自动上传节点链接有效期(秒), 过期未更新则移除
    MAX_LOGIN_ATTEMPTS: 3, // 最大登录尝试次数 (前端限制)
    BACKGROUND_IMAGE: 'https://media.istockphoto.com/id/508515231/photo/feeling-free-to-express-her-sensuality.jpg?s=1024x1024&w=is&k=20&c=959xvWit4gR8btZtd7FmzTIkqzSwyB8zLIacQyQfLIk=;https://media.istockphoto.com/id/520980967/photo/sexy-beautiful-woman-in-lingerie.jpg?s=612x612&w=is&k=20&c=ciVJawZ8X8wrnyhK3GWaypMzus09kwuT7vildArZ20Q=;https://media.istockphoto.com/id/506435758/photo/beautyful-young-blond-woman-sitting-next-to-the-balkony-door.jpg?s=1024x1024&w=is&k=20&c=BeDnqv_dt3XPN00IVVuO0eJo6kA362nXBlDxBsUX-_8=;https://media.istockphoto.com/id/187150159/photo/naked-girl-in-water-on-a-black-background.jpg?s=1024x1024&w=is&k=20&c=IyxsYlzFJlJVYDDIkkZX3lw6nWYfcvVYVOpPnoM1sBk=;https://media.istockphoto.com/id/538127701/photo/female-torso-with-bra-on-black-background.jpg?s=612x612&w=is&k=20&c=Z1Na-xQxSiXEpf2RvC9MfeVWKssTXx36653LYzbh2oo=;https://cdn.pixabay.com/photo/2024/07/03/15/40/beauty-8870258_1280.png?q=80&w=1280;https://media.istockphoto.com/id/1077567800/photo/hot-young-adult-proud-and-domineering-woman-dressed-in-a-long-scarlet-red-long-dress-sexually.jpg?s=612x612&w=is&k=20&c=Ow7PyaUo2YZ1YDnnlPY3PJlmB9C_x5O9XYjR4Q_xd3U=;https://media.istockphoto.com/id/1077591134/photo/free-your-femininity.jpg?s=612x612&w=is&k=20&c=FqZHQjWLmL7yAslJLYIMPjF7LlXAIZAM9AR6bGHgE1g=;https://media.istockphoto.com/id/1156676927/photo/fashionable-studio-portrait-of-a-sport-girl.jpg?s=612x612&w=is&k=20&c=d4XhyoPnemNVTQBzK5gTb6t8n1un5m9vrZsgbihmS1U=;https://media.istockphoto.com/id/536720005/photo/looking-sensual-in-red.jpg?s=612x612&w=is&k=20&c=eCg7_4FCLHztU8fVuYIpwzezzbyRpw5FHZTS7GF9OHU='
};

const _0x3367a0=_0x4728;(function(_0x41205e,_0x55dd67){const _0x458324=_0x4728,_0x233f13=_0x41205e();while(!![]){try{const _0x27c057=parseInt(_0x458324(0x135))/0x1*(-parseInt(_0x458324(0x11a))/0x2)+parseInt(_0x458324(0xc6))/0x3*(-parseInt(_0x458324(0xda))/0x4)+-parseInt(_0x458324(0x133))/0x5*(parseInt(_0x458324(0x134))/0x6)+-parseInt(_0x458324(0xcf))/0x7+parseInt(_0x458324(0x10b))/0x8*(parseInt(_0x458324(0x13b))/0x9)+parseInt(_0x458324(0x13c))/0xa+-parseInt(_0x458324(0x128))/0xb*(-parseInt(_0x458324(0x106))/0xc);if(_0x27c057===_0x55dd67)break;else _0x233f13['push'](_0x233f13['shift']());}catch(_0x2ec989){_0x233f13['push'](_0x233f13['shift']());}}}(_0x3c09,0x2ebe9));const excludeKeywords='',PROTOCOL={'xieyi':'vl','xieyi2':'ess','pm':'vm'};class SupabaseClient{constructor(_0x285de4,_0x4e9777){const _0x28129e=_0x4728;this[_0x28129e(0xea)]=_0x285de4,this['anonKey']=_0x4e9777,this[_0x28129e(0x12d)]={'apikey':_0x4e9777,'Authorization':_0x28129e(0xf1)+_0x4e9777,'Content-Type':_0x28129e(0x129),'Prefer':_0x28129e(0x116)};}async['request'](_0x31d4a6,_0x4d5852={}){const _0x1e10e9=_0x4728,_0x25f0f1=await fetch(this[_0x1e10e9(0xea)]+_0x1e10e9(0xdc)+_0x31d4a6,{'headers':{...this[_0x1e10e9(0x12d)],..._0x4d5852[_0x1e10e9(0x12d)]},..._0x4d5852});if(!_0x25f0f1['ok']){const _0x2189b3=await _0x25f0f1[_0x1e10e9(0xd3)]();throw new Error(_0x1e10e9(0x105)+_0x25f0f1[_0x1e10e9(0xf7)]+'\x20'+_0x2189b3);}if(_0x25f0f1[_0x1e10e9(0xf7)]===0xcc)return null;return await _0x25f0f1['json']();}async['select'](_0xacfe68,_0x4f55b1='*',_0x31e21e={},_0x3083ed=null){const _0x998ed4=_0x4728;let _0x46be9e=_0xacfe68+_0x998ed4(0x122)+_0x4f55b1;return Object[_0x998ed4(0x120)](_0x31e21e)['forEach'](([_0x2fa195,_0x5c470c])=>{const _0x582224=_0x998ed4;_0x5c470c!==undefined&&_0x5c470c!==null&&(_0x46be9e+='&'+_0x2fa195+_0x582224(0xc7)+encodeURIComponent(_0x5c470c));}),_0x3083ed&&(_0x46be9e+=_0x998ed4(0x11e)+_0x3083ed),await this[_0x998ed4(0x123)](_0x46be9e);}async[_0x3367a0(0xce)](_0x2224d3,_0x1f538e){const _0x4469e0=_0x3367a0;return await this[_0x4469e0(0x123)](_0x2224d3,{'method':_0x4469e0(0x10f),'body':JSON[_0x4469e0(0xf3)](Array[_0x4469e0(0x12c)](_0x1f538e)?_0x1f538e:[_0x1f538e])});}async['update'](_0x11610d,_0x1f4b03,_0x483ced={}){const _0x17ac6d=_0x3367a0;let _0x3d5b1c=_0x11610d;const _0x1aa0fa=new URLSearchParams();return Object[_0x17ac6d(0x120)](_0x483ced)['forEach'](([_0x2bdb1a,_0x5b329f])=>{const _0x30f6dc=_0x17ac6d;_0x5b329f!==undefined&&_0x5b329f!==null&&_0x1aa0fa[_0x30f6dc(0xdb)](_0x2bdb1a,_0x30f6dc(0x127)+_0x5b329f);}),_0x1aa0fa[_0x17ac6d(0xde)]()&&(_0x3d5b1c+='?'+_0x1aa0fa[_0x17ac6d(0xde)]()),await this[_0x17ac6d(0x123)](_0x3d5b1c,{'method':_0x17ac6d(0x118),'body':JSON[_0x17ac6d(0xf3)](_0x1f4b03)});}async[_0x3367a0(0xd8)](_0x599f17,_0x252f24,_0x118077=['id']){const _0xd9fe6a=_0x3367a0;return await this[_0xd9fe6a(0x123)](_0x599f17,{'method':_0xd9fe6a(0x10f),'headers':{'Prefer':_0xd9fe6a(0xc8)},'body':JSON[_0xd9fe6a(0xf3)](Array['isArray'](_0x252f24)?_0x252f24:[_0x252f24])});}async[_0x3367a0(0x126)](_0x9f243b,_0x1727fc={}){const _0x3b4b1a=_0x3367a0;let _0x301f44=_0x9f243b;const _0xcef724=new URLSearchParams();return Object[_0x3b4b1a(0x120)](_0x1727fc)[_0x3b4b1a(0x148)](([_0x4ba167,_0x7bfb04])=>{const _0x2ff987=_0x3b4b1a;_0x7bfb04!==undefined&&_0x7bfb04!==null&&_0xcef724[_0x2ff987(0xdb)](_0x4ba167,_0x2ff987(0x127)+_0x7bfb04);}),_0xcef724[_0x3b4b1a(0xde)]()&&(_0x301f44+='?'+_0xcef724[_0x3b4b1a(0xde)]()),await this['request'](_0x301f44,{'method':_0x3b4b1a(0xfe)});}async['rpc'](_0xd0b1bf,_0x26c1e8={}){const _0x1ca060=_0x3367a0;return await this[_0x1ca060(0x123)](_0x1ca060(0xdd)+_0xd0b1bf,{'method':_0x1ca060(0x10f),'body':JSON['stringify'](_0x26c1e8)});}}const html='<!DOCTYPE\x20html>\x0a<html\x20lang=\x22en\x22>\x0a<head>\x0a\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20\x20\x20<title>订阅管理</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Arial\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-image:\x20url(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-size:\x20cover;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-position:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-repeat:\x20no-repeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x200.75);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x204px\x2010px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20900px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20h1\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-shadow:\x201px\x201px\x202px\x20rgba(0,0,0,0.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.password-form\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.form-row\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.form-label\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2060px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20right;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.form-input\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.info-box\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(248,\x20249,\x20250,\x200.75);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22password\x22],\x20input[type=\x22text\x22],\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ddd;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20calc(100%\x20-\x2024px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20border-color\x200.3s,\x20box-shadow\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20input[type=\x22password\x22]:focus,\x20input[type=\x22text\x22]:focus,\x20textarea:focus{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x200\x205px\x20rgba(0,123,255,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20textarea\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x20120px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20monospace;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20button:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#0056b3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.url\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-break:\x20break-all;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(233,\x20236,\x20239,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.copy-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#28a745;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.copy-btn:hover:not(:disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#218838;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.current-list,\x20.current-sub2-list,\x20.current-keyword-list{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x20350px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.list-item,\x20.sub2-item,\x20.keyword-item{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(248,\x20249,\x20250,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.item-index\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x2040px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.list-url,\x20.sub2-url,\x20.keyword-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-grow:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20word-break:\x20break-all;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.delete-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.delete-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#c82333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.management-section\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-top:\x201px\x20solid\x20#dee2e6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.success-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#28a745;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20justify-content:\x20space-around;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#007bff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s,\x20transform\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.menu\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#0056b3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateY(-2px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.tab-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.tab-content.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20#loading\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20.copyright\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#777;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a</head>\x0a<body>\x0a\x20\x20\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h1>节点自动上传聚合订阅管理系统</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22password-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22form-label\x22>用户名</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22username\x22\x20class=\x22form-input\x22\x20placeholder=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22form-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22form-label\x22>密码</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-input\x22\x20placeholder=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22login()\x22\x20id=\x22loginBtn\x22>登陆</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22loading\x22>Loading...</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22errorMessage\x22\x20class=\x22error-message\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22infoBox\x22\x20class=\x22info-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27home\x27)\x22>首页</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27upload\x27)\x22>自动上传节点管理</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27sub2\x27)\x22>自定义节点或链接</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showTab(\x27keywords\x27)\x22>关键词过滤</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22home\x22\x20class=\x22tab-content\x20active\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>节点上传地址格式(UP值改成你设置的):</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22url\x22\x20id=\x22uploadUrl\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22copy-btn\x22\x20onclick=\x22copyToClipboard(\x27uploadUrl\x27)\x22>复制</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>订阅地址格式(TOKEN值改成你设置的):</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22url\x22\x20id=\x22downloadUrl\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22copy-btn\x22\x20onclick=\x22copyToClipboard(\x27downloadUrl\x27)\x22>复制</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>使用说明:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ol>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>节点原始优选域名要设置为ip.sb,端口443或8443,否则也不影响使用,只是不支持自动更换优选IP和端口</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>订阅链接参数:cf_ip和cf_port必填,可以自动替换优选域名和端口</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>默认支持v2r.ayng,hid.dify,neko等软件,其他软件自行转换格式</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ol>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22upload\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前节点列表:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentList\x22\x20class=\x22current-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadUrls()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllUrls()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sub2\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>添加自定义节点或订阅链接(仅v2格式):</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sub2Input\x22\x20placeholder=\x22每行一个URL\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22updateSub2()\x22>添加更新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sub2SuccessMessage\x22\x20class=\x22success-message\x22>更新成功!</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前自定义节点列表:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentSub2List\x22\x20class=\x22current-sub2-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadSub2()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllSub2Urls()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22keywords\x22\x20class=\x22tab-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>添加关键词过滤:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22keywordInput\x22\x20placeholder=\x22每行一个关键词\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22updateKeywords()\x22>添加更新</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22keywordSuccessMessage\x22\x20class=\x22success-message\x22>更新成功!</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>当前关键词列表:</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22currentKeywordList\x22\x20class=\x22current-keyword-list\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22loadKeywords()\x22\x20class=\x22load-btn\x22>刷新列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteAllKeywords()\x22\x20class=\x22delete-btn\x22>全部删除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22copyright\x22>版权所有:FsMs\x20©\x20Copyright\x202025</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20配置参数\x20-\x20登录成功后从服务器获取\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20appConfig\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20apiToken:\x20\x27\x27,\x20\x20//\x20API路径密钥\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20maxAttempts:\x203,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20backgroundImages:\x20[]\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20currentBackgroundIndex\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20loginAttempts\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20isLoggedIn\x20=\x20false;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20页面加载时预加载背景图片配置\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20preloadBackgroundConfig()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-background-config`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.backgroundImages\x20&&\x20data.backgroundImages.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appConfig.backgroundImages\x20=\x20data.backgroundImages;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20initBackground();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Failed\x20to\x20load\x20background\x20config:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20function\x20setBackgroundImage(imageUrl)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.body.style.backgroundImage\x20=\x20`url(\x27${imageUrl}\x27)`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20loadNextBackground()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(appConfig.backgroundImages.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackgroundIndex\x20=\x20(currentBackgroundIndex\x20+\x201)\x20%\x20appConfig.backgroundImages.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setBackgroundImage(appConfig.backgroundImages[currentBackgroundIndex]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20function\x20handleImageError()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20loadNextBackground()\x0a\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20initBackground()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(appConfig.backgroundImages.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20randomIndex\x20=\x20Math.floor(Math.random()\x20*\x20appConfig.backgroundImages.length);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentBackgroundIndex\x20=\x20randomIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20imageUrl\x20=\x20appConfig.backgroundImages[randomIndex];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20img\x20=\x20new\x20Image();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onload\x20=\x20()\x20=>\x20setBackgroundImage(imageUrl);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.onerror\x20=\x20handleImageError;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20img.src\x20=\x20imageUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20showTab(tabId)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20tabs\x20=\x20[\x27home\x27,\x20\x27upload\x27,\x20\x27sub2\x27,\x20\x27keywords\x27];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tabs.forEach(id\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(id).classList.remove(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(tabId).classList.add(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20getDomain()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20window.location.origin;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20showLoading(show)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20loadingDiv\x20=\x20document.getElementById(\x27loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loadingDiv.style.display\x20=\x20show\x20?\x20\x27block\x27\x20:\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20async\x20function\x20login()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20username\x20=\x20document.getElementById(\x27username\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20password\x20=\x20document.getElementById(\x27password\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20errorMsg\x20=\x20document.getElementById(\x27errorMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20loginBtn\x20=\x20document.getElementById(\x27loginBtn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isLoggedIn){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27infoBox\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showLoading(true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/login`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20username,\x20password\x20}),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(data.success){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isLoggedIn\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20从服务器响应中获取配置参数(TOKEN和UP不下发,保证安全)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appConfig.apiToken\x20=\x20data.config.apiToken;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appConfig.maxAttempts\x20=\x20data.config.maxAttempts\x20||\x203;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appConfig.backgroundImages\x20=\x20(data.config.backgroundImage\x20||\x20\x27\x27).split(\x27;\x27).filter(url\x20=>\x20url.trim());\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20初始化背景图\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20initBackground();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20隐藏登录表单,显示管理界面\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.querySelector(\x27.password-form\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27infoBox\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showTab(\x27home\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20domain\x20=\x20getDomain();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示带占位符的地址,不暴露真实TOKEN和UP值\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27uploadUrl\x27).textContent\x20=\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`${domain}/upload-你设置的UP值`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27downloadUrl\x27).textContent\x20=\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`${domain}/token=你设置的TOKEN值?cf_ip=ip.sb&cf_port=443`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20Promise.all([loadSub2(),\x20loadUrls(),\x20loadKeywords()]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginAttempts++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20remainingAttempts\x20=\x20(data.maxAttempts\x20||\x203)\x20-\x20loginAttempts;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(loginAttempts\x20>=\x20(data.maxAttempts\x20||\x203))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27登录尝试次数已用完,请稍后再试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27username\x27).disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27password\x27).disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20`用户名或密码错误,还剩\x20${remainingAttempts}\x20次尝试机会`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27登录失败,请重试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}catch(error){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.textContent\x20=\x20\x27网络错误,请重试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20errorMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showLoading(false);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loginBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20copyToClipboard(elementId)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20text\x20=\x20document.getElementById(elementId).textContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text).then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27已复制到剪贴板\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(err\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27复制失败:\x27,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20上传节点管理\x20-\x20使用服务器下发的apiToken\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadUrls()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-urls-${appConfig.apiToken}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.urls\x20&&\x20data.urls.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.urls.forEach((item,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listItem\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.className\x20=\x20\x27list-item\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20indexSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20indexSpan.className\x20=\x20\x27item-index\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20indexSpan.textContent\x20=\x20(index\x20+\x201)\x20+\x20\x27.\x27;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urlSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.className\x20=\x20\x27list-url\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.textContent\x20=\x20item.urlName;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteUrl(item.urlName);\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.appendChild(indexSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.appendChild(urlSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listItem.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(listItem);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.textContent\x20=\x20\x27当前没有节点\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20loading\x20URLs:\x27,\x20response.statusText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.textContent\x20=\x20\x27加载节点列表失败!\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteUrl(urlName)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-url-${appConfig.apiToken}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27Content-Type\x27:\x20\x27application/json\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20urlName\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadUrls();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败,请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllUrls(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-urls-${appConfig.apiToken}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadUrls();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败,请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20updateSub2()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20content\x20=\x20document.getElementById(\x27sub2Input\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20lines\x20=\x20content.split(\x27\x5cn\x27).filter(url\x20=>\x20url.trim());\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20验证格式:任意字符://任意字符\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urlPattern\x20=\x20/^.+:\x5c/\x5c/.+$/;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20validUrls\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20invalidUrls\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lines.forEach(line\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20trimmed\x20=\x20line.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(urlPattern.test(trimmed))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20validUrls.push(trimmed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20invalidUrls.push(trimmed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果有无效格式,提示用户\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(invalidUrls.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27以下内容格式不正确(需要\x20协议://内容\x20格式):\x5cn\x27\x20+\x20invalidUrls.join(\x27\x5cn\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(validUrls.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(validUrls.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27没有有效的链接可添加\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/update-sub2-${appConfig.apiToken}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27Content-Type\x27:\x20\x27application/json\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20urls:\x20validUrls\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20successMsg\x20=\x20document.getElementById(\x27sub2SuccessMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x20successMsg.style.display\x20=\x20\x27none\x27;\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadSub2();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27sub2Input\x27).value\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27更新失败,请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadSub2()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-sub2-${appConfig.apiToken}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentSub2List\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.urls\x20&&\x20data.urls.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.urls.forEach((item,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20sub2Item\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sub2Item.className\x20=\x20\x27sub2-item\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20indexSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20indexSpan.className\x20=\x20\x27item-index\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20indexSpan.textContent\x20=\x20(index\x20+\x201)\x20+\x20\x27.\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20urlSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.className\x20=\x20\x27sub2-url\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20urlSpan.textContent\x20=\x20item.url;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteSub2Url(item.id);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sub2Item.appendChild(indexSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sub2Item.appendChild(urlSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sub2Item.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(sub2Item);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.textContent\x20=\x20\x27当前没有自定义节点\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20loading\x20sub2\x20URLs:\x27,\x20response.statusText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentSub2List\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.textContent\x20=\x20\x27加载自定义节点列表失败!\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteSub2Url(id)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-sub2-${appConfig.apiToken}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27Content-Type\x27:\x20\x27application/json\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20id\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadSub2();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败,请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllSub2Urls(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-sub2-${appConfig.apiToken}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadSub2();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败,请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20关键词过滤管理\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20updateKeywords()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20content\x20=\x20document.getElementById(\x27keywordInput\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20keywords\x20=\x20content.split(\x27\x5cn\x27).filter(keyword\x20=>\x20keyword.trim());\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/update-keywords-${appConfig.apiToken}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27Content-Type\x27:\x20\x27application/json\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20keywords\x20}),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20successMsg\x20=\x20document.getElementById(\x27keywordSuccessMessage\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20successMsg.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x20successMsg.style.display\x20=\x20\x27none\x27;\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27keywordInput\x27).value\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27更新失败,请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadKeywords()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/get-keywords-${appConfig.apiToken}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentKeywordList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.keywords\x20&&\x20data.keywords.length\x20>\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data.keywords.forEach((item,\x20index)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20itemDiv\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20itemDiv.className\x20=\x20\x27keyword-item\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20keywordSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20keywordSpan.className\x20=\x20\x27keyword-text\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20keywordSpan.textContent\x20=\x20item.keyword;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20deleteBtn\x20=\x20document.createElement(\x27button\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.className\x20=\x20\x27delete-btn\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.textContent\x20=\x20\x27删除\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20deleteBtn.onclick\x20=\x20()\x20=>\x20deleteKeyword(item.id);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20itemDiv.appendChild(keywordSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20itemDiv.appendChild(deleteBtn);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.appendChild(itemDiv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.textContent\x20=\x20\x27当前没有关键词\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Error\x20loading\x20keywords:\x27,\x20response.statusText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20listContainer\x20=\x20document.getElementById(\x27currentKeywordList\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20listContainer.textContent\x20=\x20\x27加载关键词列表失败!\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteKeyword(id)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-keyword-${appConfig.apiToken}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x20\x27Content-Type\x27:\x20\x27application/json\x27\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20id\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27删除失败,请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20deleteAllKeywords(){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`${getDomain()}/delete-all-keywords-${appConfig.apiToken}`,{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadKeywords();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27全部删除失败,请重试\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27username\x27).addEventListener(\x27keypress\x27,\x20function(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(e.key\x20===\x20\x27Enter\x27\x20&&\x20!this.disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20login();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27password\x27).addEventListener(\x27keypress\x27,\x20function(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(e.key\x20===\x20\x27Enter\x27\x20&&\x20!this.disabled)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20login();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isLoggedIn){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27infoBox\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20页面加载时就加载背景图\x0a\x20\x20\x20\x20\x20\x20\x20\x20preloadBackgroundConfig();\x0a\x20\x20\x20\x20</script>\x0a</body>\x0a</html>';function _0x4728(_0xefee11,_0x1c201c){const _0x3c0947=_0x3c09();return _0x4728=function(_0x47286c,_0x5e8370){_0x47286c=_0x47286c-0xc3;let _0x2e16f8=_0x3c0947[_0x47286c];return _0x2e16f8;},_0x4728(_0xefee11,_0x1c201c);}function preProcessUrl(_0x6b367f){const _0x63e5b=_0x3367a0;_0x6b367f[_0x63e5b(0x14c)](_0x63e5b(0xf4))&&(_0x6b367f=_0x6b367f['replace'](/{\n.*?You've hit the daily limit.*?\n}/s,'UN'));let _0x509b18=![];(_0x6b367f['startsWith'](_0x63e5b(0x13e))||_0x6b367f[_0x63e5b(0xd5)](PROTOCOL['pm']+_0x63e5b(0x143)))&&_0x6b367f[_0x63e5b(0x141)]('://')[0x1][_0x63e5b(0x14e)](0x0)!=='{'&&(_0x509b18=!![]);if(_0x509b18)try{let _0x5d8232=_0x6b367f[_0x63e5b(0x141)]('://')[0x1],_0x18ba06=atob(_0x5d8232),_0x442ab6=PROTOCOL['pm']+_0x63e5b(0x143)+_0x18ba06;return _0x442ab6[_0x63e5b(0xfc)](/\{PASS\}\-/g,'')['replace'](/\{PA/g,PROTOCOL[_0x63e5b(0xfb)])[_0x63e5b(0xfc)](/SS\}/g,PROTOCOL[_0x63e5b(0xe8)])[_0x63e5b(0xfc)](/\{BA/g,PROTOCOL['pm']);}catch(_0x83af7a){return console[_0x63e5b(0xed)]('Error\x20decoding\x20special\x20format\x20URL:',_0x83af7a,_0x6b367f),_0x6b367f;}else return _0x6b367f[_0x63e5b(0xfc)](/\{PASS\}\-/g,'')['replace'](/\{PA/g,PROTOCOL[_0x63e5b(0xfb)])[_0x63e5b(0xfc)](/SS\}/g,PROTOCOL[_0x63e5b(0xe8)])[_0x63e5b(0xfc)](/\{BA/g,PROTOCOL['pm']);}function shouldExcludeUrl(_0x30d77a){const _0x2b7115=_0x3367a0,_0x14a0f4=(excludeKeywords||'')[_0x2b7115(0x141)](';')[_0x2b7115(0xe0)](_0x75c1a2=>_0x75c1a2['trim']());return _0x14a0f4['some'](_0x25d3f5=>_0x30d77a[_0x2b7115(0x14c)](_0x25d3f5));}async function initDatabase(_0x5d0e9d){const _0x47eefb=_0x3367a0,_0x20e1a8=new SupabaseClient(_0x5d0e9d['SUPABASE_URL'],_0x5d0e9d[_0x47eefb(0xd7)]);try{await _0x20e1a8[_0x47eefb(0x113)](_0x47eefb(0xec)),console[_0x47eefb(0xf8)]('Database\x20tables\x20initialized\x20successfully.');}catch(_0x1e48bf){console['log'](_0x47eefb(0xcb),_0x1e48bf);}}async function getAllUrls(_0x3d7617){const _0x34eca8=_0x3367a0,_0xd81bff=new SupabaseClient(_0x3d7617['SUPABASE_URL'],_0x3d7617[_0x34eca8(0xd7)]);try{const _0x44e566=await _0xd81bff[_0x34eca8(0x12b)](_0x34eca8(0x150),_0x34eca8(0x14f),{},_0x34eca8(0x12e));return _0x44e566[_0x34eca8(0x114)](_0x531863=>_0x531863[_0x34eca8(0xea)]&&typeof _0x531863[_0x34eca8(0xea)]===_0x34eca8(0xd0)&&!shouldExcludeUrl(_0x531863[_0x34eca8(0xea)]))[_0x34eca8(0xe0)](_0x18aab5=>({'url':_0x18aab5[_0x34eca8(0xea)],'urlName':_0x18aab5['url_name']}));}catch(_0x5dcd71){return console['error'](_0x34eca8(0xcd),_0x5dcd71),[];}}function _0x3c09(){const _0x21dcd1=['=none','1144tVmCGk','json','keyword,\x20id','/delete-keyword-','POST','https://','trim','://','rpc','filter','Error\x20delete\x20all\x20urls','return=representation','Error\x20updating\x20keywords','PATCH','Error\x20delete\x20all\x20sub2_urls:','722696zLBFkU','/delete-all-sub2-','url,\x20id','concat','&order=','/delete-all-keywords-','entries','处理订阅链接失败:','?select=','request','Error\x20in\x20handleUpload','trimStart','delete','eq.','11DhELEe','application/json','has','select','isArray','headers','id.asc','Error\x20delete\x20keywords','APITOKEN','Hello\x20World','/update-keywords-','10kUsnit','1137498gfFLCJ','1HzDeRh','/upload-','/get-urls-','MAX_LOGIN_ATTEMPTS','method','ip.sb','1341jQxwZb','2930610HiGKHq','YOUXUAN_IP','{BASS}://','Error\x20in\x20encodeToBase64:','cf_port','split','Error\x20delete\x20all\x20urls:','ess://','Invalid\x20keywords\x20format','<head>','length','<!doctype\x20html>','forEach','update','http://','/sub-','includes','Error\x20delete\x20expired\x20urls:','charAt','url_name,\x20url','urls','Error\x20getting\x20exclude\x20keywords:','delete_all_keywords','Error\x20updating\x20sub2_urls','/delete-url-','/login','sub2_urls','delete_expired_urls','fromCharCode','Error\x20delete\x20all\x20keywords','12gmdRBg','=eq.','resolution=merge-duplicates,return=representation','USER','/get-sub2-','Tables\x20might\x20already\x20exist\x20or\x20RPC\x20function\x20not\x20available:','/update-sub2-','Error\x20getting\x20all\x20URLs:','insert','431452LjxgXU','string','keyword','toLowerCase','text','Error\x20delete\x20urls','startsWith','Error\x20delete\x20all\x20sub2_urls','SUPABASE_ANON_KEY','upsert','encode','201044JGlijn','append','/rest/v1/','rpc/','toString','<html>','map','Missing\x20cf_ip\x20or\x20cf_port\x20in\x20query\x20parameters','text/html;charset=UTF-8','Error\x20delete\x20keywords:','get','Error\x20delete\x20all\x20keywords:','id,\x20url','some','xieyi2','delete_all_sub2_urls','url','BACKGROUND_IMAGE','init_tables','error','SUPABASE_URL','/delete-all-urls-','Error\x20in\x20encodeToBase64','Bearer\x20','Error\x20updating\x20sub2_urls:','stringify','You\x27ve\x20hit\x20the\x20daily\x20limit','/get-keywords-','Error\x20delete\x20sub2_urls','status','log','Error\x20delete\x20urls:','/delete-sub2-','xieyi','replace','PSWD','DELETE','EXPIRATION_TIME','Error\x20encodeToBase64','Error\x20delete\x20sub2_urls:','join','8080','exclude_keywords','Supabase\x20error:\x20','10563492ACRsll','now','delete_all_urls','UUID'];_0x3c09=function(){return _0x21dcd1;};return _0x3c09();}async function getSub2Urls(_0x5a61cc){const _0x2c7995=_0x3367a0,_0x4e8060=new SupabaseClient(_0x5a61cc[_0x2c7995(0xee)],_0x5a61cc[_0x2c7995(0xd7)]);try{const _0x5e4ee9=await _0x4e8060[_0x2c7995(0x12b)](_0x2c7995(0x156),_0x2c7995(0x11c),{},_0x2c7995(0x12e));return _0x5e4ee9[_0x2c7995(0x114)](_0x3c68a9=>_0x3c68a9[_0x2c7995(0xea)]&&typeof _0x3c68a9['url']==='string'&&!shouldExcludeUrl(_0x3c68a9['url']))[_0x2c7995(0xe0)](_0x590ff2=>({'url':_0x590ff2[_0x2c7995(0xea)],'id':_0x590ff2['id']}));}catch(_0x2c00f1){return console[_0x2c7995(0xed)]('Error\x20getting\x20SUB2\x20URLs:',_0x2c00f1),[];}}async function getExcludeKeywords(_0x491215){const _0x541197=_0x3367a0,_0x4a95b7=new SupabaseClient(_0x491215['SUPABASE_URL'],_0x491215['SUPABASE_ANON_KEY']);try{const _0x251f66=await _0x4a95b7[_0x541197(0x12b)](_0x541197(0x104),_0x541197(0x10d),{},'id.asc');return _0x251f66[_0x541197(0xe0)](_0x54a218=>({'keyword':_0x54a218[_0x541197(0xd1)],'id':_0x54a218['id']}));}catch(_0xd60c96){return console[_0x541197(0xed)](_0x541197(0x151),_0xd60c96),[];}}export default{async 'fetch'(_0x5f294b,_0x98cb4c){return handleRequest(_0x5f294b,_0x98cb4c);}};async function handleRequest(_0x56d4a7,_0x48a7e8){const _0x1b9cd0=_0x3367a0,_0x383e92=new URL(_0x56d4a7[_0x1b9cd0(0xea)]),_0x2d7357=_0x383e92['pathname'];await initDatabase(_0x48a7e8);if(_0x2d7357==='/'||_0x2d7357==='')return new Response(_0x1b9cd0(0x131),{'headers':{'content-type':'text/plain'}});if(_0x2d7357===_0x1b9cd0(0x155)&&_0x56d4a7[_0x1b9cd0(0x139)]==='POST')return handleLogin(_0x56d4a7,_0x48a7e8);if(_0x2d7357==='/get-background-config')return new Response(JSON[_0x1b9cd0(0xf3)]({'backgroundImages':(CONFIG[_0x1b9cd0(0xeb)]||'')[_0x1b9cd0(0x141)](';')[_0x1b9cd0(0x114)](_0x129367=>_0x129367[_0x1b9cd0(0x111)]())}),{'headers':{'Content-Type':_0x1b9cd0(0x129)}});if(_0x2d7357===_0x1b9cd0(0x14b)+CONFIG[_0x1b9cd0(0x109)])return new Response(html,{'headers':{'content-type':_0x1b9cd0(0xe2)}});if(_0x2d7357===_0x1b9cd0(0x136)+CONFIG['UP']&&_0x56d4a7[_0x1b9cd0(0x139)]==='POST')return handleUpload(_0x56d4a7,_0x48a7e8);else{if(_0x2d7357==='/token='+CONFIG['TOKEN'])return handleToken(_0x56d4a7,_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0xcc)+CONFIG['APITOKEN']&&_0x56d4a7[_0x1b9cd0(0x139)]==='POST')return handleUpdateSub2(_0x56d4a7,_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0xca)+CONFIG[_0x1b9cd0(0x130)])return handleGetSub2(_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0xfa)+CONFIG[_0x1b9cd0(0x130)]&&_0x56d4a7[_0x1b9cd0(0x139)]===_0x1b9cd0(0x10f))return handleDeleteSub2(_0x56d4a7,_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0x137)+CONFIG[_0x1b9cd0(0x130)])return handleGetUrls(_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0x154)+CONFIG[_0x1b9cd0(0x130)]&&_0x56d4a7[_0x1b9cd0(0x139)]===_0x1b9cd0(0x10f))return handleDeleteUrl(_0x56d4a7,_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0x132)+CONFIG[_0x1b9cd0(0x130)]&&_0x56d4a7['method']===_0x1b9cd0(0x10f))return handleUpdateKeywordsRequest(_0x56d4a7,_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0xf5)+CONFIG[_0x1b9cd0(0x130)])return handleGetKeywordsRequest(_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0x10e)+CONFIG[_0x1b9cd0(0x130)]&&_0x56d4a7[_0x1b9cd0(0x139)]==='POST')return handleDeleteKeyword(_0x56d4a7,_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0xef)+CONFIG[_0x1b9cd0(0x130)]&&_0x56d4a7[_0x1b9cd0(0x139)]==='POST')return handleDeleteAllUrls(_0x48a7e8);else{if(_0x2d7357===_0x1b9cd0(0x11b)+CONFIG[_0x1b9cd0(0x130)]&&_0x56d4a7[_0x1b9cd0(0x139)]===_0x1b9cd0(0x10f))return handleDeleteAllSub2Urls(_0x48a7e8);else return _0x2d7357===_0x1b9cd0(0x11f)+CONFIG['APITOKEN']&&_0x56d4a7[_0x1b9cd0(0x139)]===_0x1b9cd0(0x10f)?handleDeleteAllKeywords(_0x48a7e8):new Response('Not\x20Found',{'status':0x194});}}}}}}}}}}}}async function handleLogin(_0x354811,_0x2aa99e){const _0x4eee06=_0x3367a0,{username:_0x18b405,password:_0x1e7eed}=await _0x354811[_0x4eee06(0x10c)](),_0x13baa1=_0x2aa99e[_0x4eee06(0xfd)],_0x5d47dc=CONFIG[_0x4eee06(0xc9)];if(_0x18b405===_0x5d47dc&&_0x1e7eed===_0x13baa1)return new Response(JSON[_0x4eee06(0xf3)]({'success':!![],'config':{'apiToken':CONFIG[_0x4eee06(0x130)],'maxAttempts':CONFIG[_0x4eee06(0x138)],'backgroundImage':CONFIG[_0x4eee06(0xeb)]}}),{'headers':{'Content-Type':_0x4eee06(0x129)}});return new Response(JSON[_0x4eee06(0xf3)]({'success':![],'maxAttempts':CONFIG[_0x4eee06(0x138)]}),{'headers':{'Content-Type':'application/json'},'status':0x191});}async function handleDeleteKeyword(_0x5f1b37,_0x5811bf){const _0x490b1d=_0x3367a0,_0x1da659=new SupabaseClient(_0x5811bf['SUPABASE_URL'],_0x5811bf[_0x490b1d(0xd7)]),{id:_0x33538b}=await _0x5f1b37[_0x490b1d(0x10c)]();try{return await _0x1da659['delete']('exclude_keywords',{'id':_0x33538b}),new Response('OK',{'status':0xc8});}catch(_0x5e703b){return console[_0x490b1d(0xed)](_0x490b1d(0xe3),_0x5e703b),new Response(_0x490b1d(0x12f),{'status':0x1f4});}}async function handleGetKeywordsRequest(_0x6ecc8b){const _0x11394e=_0x3367a0,_0x232e1f=await getExcludeKeywords(_0x6ecc8b);return new Response(JSON[_0x11394e(0xf3)]({'keywords':_0x232e1f}),{'headers':{'Content-Type':_0x11394e(0x129)}});}async function handleUpdateKeywordsRequest(_0x27a99a,_0x37c280){const _0x439b9c=_0x3367a0,_0x5be151=new SupabaseClient(_0x37c280[_0x439b9c(0xee)],_0x37c280[_0x439b9c(0xd7)]),{keywords:_0xb2ab62}=await _0x27a99a['json']();if(!Array[_0x439b9c(0x12c)](_0xb2ab62))return new Response(_0x439b9c(0x144),{'status':0x190});try{const _0x2452e9=await getExcludeKeywords(_0x37c280),_0x5d9bd3=new Set(_0x2452e9['map'](_0x26e68c=>_0x26e68c['keyword'])),_0x503109=_0xb2ab62[_0x439b9c(0x114)](_0x57b594=>!_0x5d9bd3[_0x439b9c(0x12a)](_0x57b594));if(_0x503109[_0x439b9c(0x146)]>0x0){const _0xdc038=_0x503109[_0x439b9c(0xe0)](_0x2dfcb1=>({'keyword':_0x2dfcb1}));await _0x5be151[_0x439b9c(0xce)](_0x439b9c(0x104),_0xdc038);}return new Response('OK',{'status':0xc8});}catch(_0x29542c){return console[_0x439b9c(0xed)]('Error\x20updating\x20keywords:',_0x29542c),new Response(_0x439b9c(0x117),{'status':0x1f4});}}async function handleDeleteAllKeywords(_0x4a74d4){const _0x30a6ba=_0x3367a0,_0x450c97=new SupabaseClient(_0x4a74d4[_0x30a6ba(0xee)],_0x4a74d4[_0x30a6ba(0xd7)]);try{return await _0x450c97[_0x30a6ba(0x113)](_0x30a6ba(0x152)),new Response('OK',{'status':0xc8});}catch(_0x2ddc9b){return console[_0x30a6ba(0xed)](_0x30a6ba(0xe5),_0x2ddc9b),new Response(_0x30a6ba(0xc5),{'status':0x1f4});}}async function handleGetUrls(_0x1dfa9e){const _0x153701=_0x3367a0,_0x5baa8f=await getAllUrls(_0x1dfa9e);return new Response(JSON[_0x153701(0xf3)]({'urls':_0x5baa8f}),{'headers':{'Content-Type':'application/json'}});}async function handleDeleteUrl(_0x1c3391,_0x283f03){const _0x5ae0d9=_0x3367a0,_0x1c5a34=new SupabaseClient(_0x283f03[_0x5ae0d9(0xee)],_0x283f03[_0x5ae0d9(0xd7)]),{urlName:_0x51b188}=await _0x1c3391['json']();try{return await _0x1c5a34[_0x5ae0d9(0x126)](_0x5ae0d9(0x150),{'url_name':_0x51b188}),new Response('OK',{'status':0xc8});}catch(_0x43e29e){return console['error'](_0x5ae0d9(0xf9),_0x43e29e),new Response(_0x5ae0d9(0xd4),{'status':0x1f4});}}async function handleDeleteAllUrls(_0x138461){const _0x2629c8=_0x3367a0,_0x2f3d62=new SupabaseClient(_0x138461[_0x2629c8(0xee)],_0x138461[_0x2629c8(0xd7)]);try{return await _0x2f3d62[_0x2629c8(0x113)](_0x2629c8(0x108)),new Response('OK',{'status':0xc8});}catch(_0x4a629d){return console[_0x2629c8(0xed)](_0x2629c8(0x142),_0x4a629d),new Response(_0x2629c8(0x115),{'status':0x1f4});}}async function handleDeleteSub2(_0xf780a5,_0x130561){const _0x261099=_0x3367a0,_0x37f2f5=new SupabaseClient(_0x130561[_0x261099(0xee)],_0x130561[_0x261099(0xd7)]),{id:_0x5dd73d}=await _0xf780a5[_0x261099(0x10c)]();try{return await _0x37f2f5[_0x261099(0x126)](_0x261099(0x156),{'id':_0x5dd73d}),new Response('OK',{'status':0xc8});}catch(_0x454cce){return console[_0x261099(0xed)](_0x261099(0x101),_0x454cce),new Response(_0x261099(0xf6),{'status':0x1f4});}}async function handleDeleteAllSub2Urls(_0x5e2c81){const _0x427355=_0x3367a0,_0x5214e4=new SupabaseClient(_0x5e2c81['SUPABASE_URL'],_0x5e2c81[_0x427355(0xd7)]);try{return await _0x5214e4[_0x427355(0x113)](_0x427355(0xe9)),new Response('OK',{'status':0xc8});}catch(_0x220c71){return console[_0x427355(0xed)](_0x427355(0x119),_0x220c71),new Response(_0x427355(0xd6),{'status':0x1f4});}}async function handleUpdateSub2(_0x23c6fe,_0x452ce8){const _0x27ffac=_0x3367a0,_0x8db424=new SupabaseClient(_0x452ce8['SUPABASE_URL'],_0x452ce8[_0x27ffac(0xd7)]),{urls:_0xa04ca1}=await _0x23c6fe[_0x27ffac(0x10c)]();if(!Array[_0x27ffac(0x12c)](_0xa04ca1))return new Response('Invalid\x20URLs\x20format',{'status':0x190});try{const _0x434212=await getSub2Urls(_0x452ce8),_0x4ab353=new Set(_0x434212['map'](_0xc71d3c=>_0xc71d3c[_0x27ffac(0xea)])),_0x4cc7b2=_0xa04ca1[_0x27ffac(0xe0)](_0x46f191=>preProcessUrl(_0x46f191))['filter'](_0x1da737=>!shouldExcludeUrl(_0x1da737))['filter'](_0x170df8=>!_0x4ab353[_0x27ffac(0x12a)](_0x170df8));if(_0x4cc7b2[_0x27ffac(0x146)]>0x0){const _0xb8583e=_0x4cc7b2['map'](_0x4452b1=>({'url':_0x4452b1}));await _0x8db424[_0x27ffac(0xce)](_0x27ffac(0x156),_0xb8583e);}return new Response('OK',{'status':0xc8});}catch(_0x105075){return console[_0x27ffac(0xed)](_0x27ffac(0xf2),_0x105075),new Response(_0x27ffac(0x153),{'status':0x1f4});}}async function handleGetSub2(_0x111246){const _0x861b60=_0x3367a0,_0x526e5b=await getSub2Urls(_0x111246);return new Response(JSON[_0x861b60(0xf3)]({'urls':_0x526e5b}),{'headers':{'Content-Type':_0x861b60(0x129)}});}async function handleUpload(_0x42ebe5,_0xbd2ad9){const _0x50a2f4=_0x3367a0,_0x48000f=new SupabaseClient(_0xbd2ad9[_0x50a2f4(0xee)],_0xbd2ad9[_0x50a2f4(0xd7)]),{URL_NAME:_0x407a3f,URL:_0x1e3b4d}=await _0x42ebe5['json']();if(!_0x407a3f||!_0x1e3b4d)return new Response('Missing\x20URL_NAME\x20or\x20URL',{'status':0x190});let _0x2449c9=preProcessUrl(_0x1e3b4d);if(shouldExcludeUrl(_0x2449c9))return new Response('OK',{'status':0xc8});try{const _0x12a6b5=Date['now'](),_0x2155b1=CONFIG[_0x50a2f4(0xff)],_0x3983c7=await _0x48000f[_0x50a2f4(0x12b)](_0x50a2f4(0x150),_0x50a2f4(0xe6),{'url_name':_0x407a3f});if(_0x3983c7&&_0x3983c7[_0x50a2f4(0x146)]>0x0){const _0xed0f19=_0x3983c7[0x0];_0xed0f19[_0x50a2f4(0xea)]!==_0x2449c9?await _0x48000f[_0x50a2f4(0x149)](_0x50a2f4(0x150),{'url':_0x2449c9,'last_update':_0x12a6b5},{'id':_0xed0f19['id']}):await _0x48000f[_0x50a2f4(0x149)](_0x50a2f4(0x150),{'last_update':_0x12a6b5},{'id':_0xed0f19['id']});}else await _0x48000f[_0x50a2f4(0xce)](_0x50a2f4(0x150),{'url_name':_0x407a3f,'url':_0x2449c9,'last_update':_0x12a6b5,'expiration_ttl':_0x2155b1});return new Response('OK',{'status':0xc8});}catch(_0x6e5230){return console[_0x50a2f4(0xed)]('Error\x20in\x20handleUpload:',_0x6e5230),new Response(_0x50a2f4(0x124),{'status':0x1f4});}}async function handleToken(_0x431a4f,_0x1e8f39){const _0x1e42c7=_0x3367a0,_0x2bd977=new SupabaseClient(_0x1e8f39[_0x1e42c7(0xee)],_0x1e8f39['SUPABASE_ANON_KEY']),{searchParams:_0x462d49}=new URL(_0x431a4f['url']),_0x5058ec=_0x462d49[_0x1e42c7(0xe4)]('cf_ip'),_0x58cced=_0x462d49[_0x1e42c7(0xe4)](_0x1e42c7(0x140));if(!_0x5058ec||!_0x58cced)return new Response(_0x1e42c7(0xe1),{'status':0x190});try{const _0x195bed=Date[_0x1e42c7(0x107)]()-CONFIG[_0x1e42c7(0xff)]*0x3e8;await _0x2bd977[_0x1e42c7(0x113)](_0x1e42c7(0xc3),{'expired_time':_0x195bed});}catch(_0x5c2009){console[_0x1e42c7(0xed)](_0x1e42c7(0x14d),_0x5c2009);}let _0x3a738f=await getAllUrls(_0x1e8f39);_0x3a738f=_0x3a738f['map'](_0x469bef=>_0x469bef[_0x1e42c7(0xea)]);const _0x284bd0=await getSub2Urls(_0x1e8f39);_0x3a738f=_0x3a738f[_0x1e42c7(0x11d)](_0x284bd0[_0x1e42c7(0xe0)](_0x23b09c=>_0x23b09c[_0x1e42c7(0xea)]));const _0x10ded2=await getExcludeKeywords(_0x1e8f39),_0x4cd26a=_0x3a738f[_0x1e42c7(0x114)](_0x5da6bd=>!_0x10ded2[_0x1e42c7(0xe7)](_0x52f7f9=>_0x5da6bd[_0x1e42c7(0x14c)](_0x52f7f9[_0x1e42c7(0xd1)])));_0x3a738f=_0x4cd26a['map'](_0x122ac3=>{const _0x44a8a4=_0x1e42c7;return _0x122ac3[_0x44a8a4(0x14c)](_0x44a8a4(0x13d))||_0x122ac3[_0x44a8a4(0x14c)](_0x44a8a4(0x13a))?(_0x122ac3=_0x122ac3[_0x44a8a4(0xfc)](/YOUXUAN_IP|ip\.sb/g,_0x5058ec)[_0x44a8a4(0xfc)](/\b(443|8443)\b/g,_0x58cced)[_0x44a8a4(0xfc)](/CF_PORT/g,_0x58cced),(_0x58cced==='80'||_0x58cced===_0x44a8a4(0x103))&&(_0x122ac3=_0x122ac3[_0x44a8a4(0xfc)](/=tls/g,_0x44a8a4(0x10a))[_0x44a8a4(0xfc)](/tls\",/g,'\x22,'))):_0x122ac3=_0x122ac3[_0x44a8a4(0xfc)](/YOUXUAN_IP|ip\.sb/g,_0x5058ec)[_0x44a8a4(0xfc)](/CF_PORT/g,_0x58cced),_0x122ac3;}),_0x3a738f=_0x3a738f[_0x1e42c7(0xe0)](_0x2c8d1c=>{const _0x523951=_0x1e42c7;if(_0x2c8d1c[_0x523951(0xd5)]('{BASS}://')||_0x2c8d1c[_0x523951(0xd5)](PROTOCOL['pm']+_0x523951(0x143))){const _0x560329=_0x2c8d1c['split'](_0x523951(0x112))[0x1];if(_0x560329){const _0x31d375=_0x560329[_0x523951(0x125)]()[_0x523951(0x14e)](0x0);if(_0x31d375==='{'){let _0x451127=_0x2c8d1c[_0x523951(0x141)](_0x523951(0x112))[0x1],_0x4404bf=btoa(_0x451127);return PROTOCOL['pm']+_0x523951(0x143)+_0x4404bf;}}}return _0x2c8d1c;});let _0x5e8100=[];for(const _0x120920 of _0x3a738f){if(_0x120920[_0x1e42c7(0xd2)]()[_0x1e42c7(0xd5)](_0x1e42c7(0x14a))||_0x120920[_0x1e42c7(0xd2)]()['startsWith'](_0x1e42c7(0x110)))try{const _0x379ad5=await fetch(_0x120920);let _0x27a228=await _0x379ad5[_0x1e42c7(0xd3)]();const _0xcf7e12=_0x440906=>{const _0x361cd0=_0x1e42c7,_0x308266=_0x440906[_0x361cd0(0xd2)]()['trim']();return _0x308266[_0x361cd0(0x14c)](_0x361cd0(0xdf))||_0x308266[_0x361cd0(0x14c)](_0x361cd0(0x147))||_0x308266['includes'](_0x361cd0(0x145))||_0x308266[_0x361cd0(0x14c)]('<body>');};if(_0xcf7e12(_0x27a228)){console['log']('订阅链接失效,返回了HTML页面,跳过:',_0x120920);continue;}try{_0x27a228=atob(_0x27a228);}catch(_0x1c6a2b){}const _0x5358b1=_0x27a228['split']('\x0a')[_0x1e42c7(0x114)](_0xc6e1c8=>_0xc6e1c8[_0x1e42c7(0x111)]())[_0x1e42c7(0x114)](_0x499c9f=>!_0x10ded2[_0x1e42c7(0xe7)](_0x37a642=>_0x499c9f[_0x1e42c7(0x14c)](_0x37a642[_0x1e42c7(0xd1)])));_0x5e8100=_0x5e8100[_0x1e42c7(0x11d)](_0x5358b1);}catch(_0x30761c){console[_0x1e42c7(0xed)](_0x1e42c7(0x121),_0x30761c);}else _0x5e8100['push'](_0x120920);}let _0x389284=_0x5e8100[_0x1e42c7(0x102)]('\x0a'),_0x3c8ac4;try{_0x3c8ac4=encodeToBase64(_0x389284);}catch(_0x1476ed){return console[_0x1e42c7(0xed)](_0x1e42c7(0x13f),_0x1476ed),new Response(_0x1e42c7(0xf0),{'status':0x1f4});}if(_0x3c8ac4===null)return new Response(_0x1e42c7(0x100),{'status':0x1f4});return new Response(_0x3c8ac4,{'headers':{'Content-Type':'text/plain'}});}function encodeToBase64(_0x15c5c5){const _0x1556ba=_0x3367a0;try{const _0x474b39=new TextEncoder(),_0x5998d6=_0x474b39[_0x1556ba(0xd9)](_0x15c5c5);let _0x1d9931='';return _0x5998d6['forEach'](_0x4eea3c=>{const _0x4f2910=_0x1556ba;_0x1d9931+=String[_0x4f2910(0xc4)](_0x4eea3c);}),btoa(_0x1d9931);}catch(_0x52751d){return console[_0x1556ba(0xed)]('Error\x20encoding\x20to\x20base64:',_0x52751d),null;}}